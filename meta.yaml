{% set name = "towerpy" %}
{% set version = "1.1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/uobwatergroup/towerpy/archive/v{{ version }}.tar.gz
  sha256: d5973b101616b9af9b2f26507ccb98b6747e01d43c522492438bdfecbe7a965b

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install . --no-deps --ignore-installed --no-cache-dir -vvv
  binary_relocation: False
  detect_binary_files_with_prefix: False

requirements:
  host:
    - python >=3
    - pip
    - setuptools_scm
  run:
    - python >=3.9
    - numpy >= 2.0.0
    - matplotlib-base >=3.8.0
    - xarray >= 2025.6.1
    - scipy
    - cartopy
    - netCDF4

test:
  imports:
    - towerpy
  commands:
    - pip check
  requires:
    - pip

about:
  home: https://github.com/uobwatergroup/towerpy
  summary: 'Towerpy, an open-source toolbox for processing polarimetric radar data'
  license: "GPL-3.0-or-later"
  license_file: ["LICEN[CS]E*"]
  
  description: |
    Towerpy is a Python toolbox designed to read, process and display polarimetric radar data.
    Towerpy provides robust algorithms for radar data quality control and radar QPE.
    However, its use is not necessarily limited to meteorological or hydrological applications.
  dev_url: https://doi.org/10.1016/j.envsoft.2023.105746
  doc_url: https://towerpy.readthedocs.io/en/latest/

extra:
  recipe-maintainers:
    - uobwatergroup
    - enchilaDaSzen
